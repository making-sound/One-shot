#N canvas 181 285 245 237 12;
#X declare -path samples -path lib;
#X floatatom 22 150 5 0 0 0 - #0_num_voices -, f 5;
#X obj 25 170 hsl 128 15 0 36 0 0 empty \$0_num_voices empty -2 -8
0 10 -262144 -1 -1 0 1;
#X floatatom 73 68 0 0 0 0 - #0_velocity_set #0_velocity;
#X floatatom 23 68 0 0 0 0 - #0_pitch_set #0_pitch;
#X floatatom 124 68 0 0 0 0 - #0_channel_set #0_channel;
#X obj 179 67 vu 15 120 mtr_l empty -1 -8 0 10 -66577 -1 0 0;
#X obj 196 67 vu 15 120 mtr_r empty -1 -8 0 10 -66577 -1 0 0;
#X text 33 27 www.making-sound.co.uk;
#N canvas 306 98 541 300 help 0;
#X restore 130 209 pd help;
#X text 16 87 pitch;
#X text 73 88 vel;
#X text 109 88 channel;
#X text 65 148 active voices;
#X obj 22 118 tgl 15 0 ready_tog ready_tog_set empty 17 7 0 12 -262144
-1 -1 1 1;
#X text 39 116 Ready;
#X text 10 44 --------------------------;
#X text 11 189 --------------------------;
#N canvas 386 23 585 481 guts 0;
#X obj 44 135 bng 15 250 50 0 empty empty empty 17 7 0 10 -262144 -1
-1;
#X obj 44 84 bng 15 250 50 0 empty empty empty 17 7 0 10 -262144 -1
-1;
#N canvas 675 43 528 556 midi_in 0;
#X obj 26 157 stripnote;
#X obj 79 504 outlet;
#X obj 79 370 text get keymap;
#X obj 79 404 list append;
#N canvas 0 23 529 335 test_channel 0;
#X obj 179 91 ==;
#X obj 38 145 spigot;
#X obj 210 48 r midi_channel;
#X obj 200 122 ||;
#X obj 221 89 expr if($f1==0 \, 1 \, 0);
#X text 329 50 0 = all channels;
#X obj 39 12 inlet;
#X obj 94 13 inlet;
#X obj 153 11 inlet;
#X obj 42 68 pack f f;
#X obj 39 189 unpack f f;
#X obj 29 227 outlet;
#X obj 85 229 outlet;
#X connect 0 0 3 0;
#X connect 1 0 10 0;
#X connect 2 0 0 1;
#X connect 2 0 4 0;
#X connect 3 0 1 1;
#X connect 4 0 3 1;
#X connect 6 0 9 0;
#X connect 7 0 9 1;
#X connect 8 0 0 0;
#X connect 9 0 1 0;
#X connect 10 0 11 0;
#X connect 10 1 12 0;
#X restore 26 115 pd test_channel;
#N canvas 0 23 450 300 test_for_all_off_key 0;
#X obj 106 81 r all_off_key;
#X floatatom 106 106 5 0 0 0 - - -, f 5;
#X obj 69 130 sel 0;
#X obj 69 157 s all_off;
#X obj 35 46 inlet;
#X obj 38 74 t f f;
#X obj 33 188 outlet;
#X connect 0 0 1 0;
#X connect 1 0 2 1;
#X connect 2 0 3 0;
#X connect 4 0 5 0;
#X connect 5 0 6 0;
#X connect 5 1 2 0;
#X restore 26 193 pd test_for_all_off_key;
#X floatatom 164 341 5 0 0 0 - - -, f 5;
#X text 207 340 velocity;
#N canvas 144 220 450 300 same_key_twice_in_a_row 0;
#X obj 35 16 inlet;
#X obj 44 256 outlet;
#X obj 99 70 t f f;
#X obj 103 99 !=;
#X obj 103 127 tgl 15 0 empty empty empty 17 7 0 10 -262144 -1 -1 0
1;
#X text 120 124 same note twice;
#X obj 38 213 spigot;
#X obj 266 100 r same_key_twice;
#X obj 113 159 ||;
#X obj 113 187 tgl 15 0 empty empty empty 17 7 0 10 -262144 -1 -1 1
1;
#X obj 267 147 tgl 15 0 empty empty empty 17 7 0 10 -262144 -1 -1 1
1;
#X connect 0 0 2 0;
#X connect 0 0 6 0;
#X connect 2 0 3 1;
#X connect 2 1 3 0;
#X connect 3 0 4 0;
#X connect 4 0 8 0;
#X connect 6 0 1 0;
#X connect 7 0 10 0;
#X connect 8 0 9 0;
#X connect 9 0 6 1;
#X connect 10 0 8 1;
#X restore 26 231 pd same_key_twice_in_a_row;
#N canvas 285 68 448 400 debounce 0;
#X obj 38 41 inlet;
#X obj 39 339 outlet;
#N canvas 0 23 450 300 ignore 0;
#X obj 42 52 inlet;
#X obj 41 224 outlet;
#X obj 41 175 t b b;
#X msg 94 111 0;
#X obj 41 134 spigot 1;
#X msg 126 111 1;
#X obj 73 198 del \$1;
#X obj 190 52 inlet;
#X text 192 31 (float) ignore duration (ms);
#X text 41 32 (bang);
#X text 41 248 (bang);
#X obj 119 53 inlet;
#X text 118 33 reset;
#X obj 121 82 t b b;
#X connect 0 0 4 0;
#X connect 2 0 3 0;
#X connect 2 0 1 0;
#X connect 2 1 6 0;
#X connect 3 0 4 1;
#X connect 4 0 2 0;
#X connect 5 0 4 1;
#X connect 6 0 5 0;
#X connect 7 0 6 1;
#X connect 11 0 13 0;
#X connect 13 0 5 0;
#X restore 42 238 pd ignore;
#X floatatom 264 214 5 0 0 0 - - -, f 5;
#X obj 41 208 t b f;
#X obj 41 267 f;
#X obj 265 183 r debounce;
#X obj 149 191 bng 15 250 50 0 empty empty empty 17 7 0 10 -262144
-1 -1;
#X text 163 188 reset;
#X obj 146 109 t f f;
#X obj 149 139 != 0;
#X obj 149 164 sel 1;
#X obj 42 73 t f f;
#X text 133 32 ignore consecutive same notes within debounce duration
(ms), f 31;
#X connect 0 0 12 0;
#X connect 2 0 5 0;
#X connect 3 0 2 2;
#X connect 4 0 2 0;
#X connect 4 1 5 1;
#X connect 5 0 1 0;
#X connect 6 0 3 0;
#X connect 7 0 2 1;
#X connect 9 0 10 1;
#X connect 9 1 10 0;
#X connect 10 0 11 0;
#X connect 11 0 7 0;
#X connect 12 0 4 0;
#X connect 12 1 9 0;
#X restore 26 271 pd debounce;
#X obj 26 28 r \$0_pitch_set;
#X obj 84 55 r \$0_velocity_set;
#X obj 143 81 r \$0_channel_set;
#X msg 79 455 \$1 \$4 \$6 \$5;
#X text 82 430 <-- id \, pitch \, file name \, size \, num channels
\, vel;
#X text 82 479 <-- buf id \, length \, vel \, channels;
#X obj 26 307 array get keys 0 1;
#X obj 26 342 moses 0;
#X connect 0 0 5 0;
#X connect 0 1 6 0;
#X connect 2 0 3 0;
#X connect 3 0 13 0;
#X connect 4 0 0 0;
#X connect 4 1 0 1;
#X connect 5 0 8 0;
#X connect 6 0 3 1;
#X connect 8 0 9 0;
#X connect 9 0 16 0;
#X connect 10 0 4 0;
#X connect 11 0 4 1;
#X connect 12 0 4 2;
#X connect 13 0 1 0;
#X connect 16 0 17 0;
#X connect 17 1 2 0;
#X restore 318 177 pd midi_in;
#N canvas 369 138 390 367 voice_allocation 0;
#X obj 38 37 inlet;
#X obj 38 276 outlet;
#X obj 118 49 r all_off;
#X obj 199 49 r fade_dur;
#X obj 178 75 del;
#X obj 38 146 spigot 1;
#X msg 118 101 0;
#X msg 178 100 1;
#X obj 118 131 tgl 15 0 empty empty empty 17 7 0 10 -262144 -1 -1 1
1;
#X text 38 13 buf id \, length \, vel \, channels;
#X text 37 297 voice \, buf id \, length \, vel \, channels;
#N canvas 0 23 399 419 no_steal 0;
#X obj 27 21 inlet;
#X floatatom 27 142 5 0 0 0 - - -, f 5;
#X text 70 140 voice;
#N canvas 454 187 601 553 get_voice 0;
#X floatatom 236 131 5 0 0 0 - - -, f 5;
#X text 277 130 id;
#X floatatom 408 132 5 0 0 0 - - -, f 5;
#X text 449 131 length;
#X obj 271 211 + 1;
#X obj 236 211 f;
#X floatatom 236 287 5 0 0 0 - - -, f 5;
#X text 280 287 unique 'pitch';
#X floatatom 409 197 8 0 0 0 - - -, f 8;
#X text 477 195 dur (ms);
#X obj 236 388 stripnote;
#X floatatom 236 421 5 0 0 0 - - -, f 5;
#X text 280 419 voice;
#X obj 236 175 t b f;
#X obj 236 44 inlet;
#X obj 236 496 outlet;
#X obj 363 390 expr if($f1>0 \, 1 \, -1);
#X obj 363 445 f;
#X obj 394 444 + 1;
#X obj 363 417 t b f;
#X floatatom 394 472 5 0 0 0 - - -, f 5;
#X text 438 471 active voices;
#X obj 394 498 outlet;
#N canvas 0 23 260 316 samps_to_ms 0;
#X obj 39 26 inlet;
#X obj 106 94 samplerate~;
#X obj 106 67 r pd-dsp-started;
#X floatatom 106 121 7 0 0 0 - - -, f 7;
#X obj 32 179 /;
#X obj 102 144 / 1000;
#X obj 32 204 outlet;
#X connect 0 0 4 0;
#X connect 1 0 3 0;
#X connect 2 0 1 0;
#X connect 3 0 5 0;
#X connect 4 0 6 0;
#X connect 5 0 4 1;
#X restore 409 169 pd samps_to_ms;
#X msg 110 313 stop;
#X obj 110 227 r all_off;
#X obj 271 237 mod 128;
#X obj 236 315 makenote 64 1000;
#X obj 236 343 poly 24 0;
#X obj 131 252 r fade_dur;
#X obj 110 287 del;
#X text 137 14 buf id \, length \, vel \, channels;
#X obj 236 80 unpack f f f f;
#X connect 0 0 13 0;
#X connect 2 0 23 0;
#X connect 4 0 26 0;
#X connect 5 0 4 0;
#X connect 5 0 6 0;
#X connect 6 0 27 0;
#X connect 8 0 27 2;
#X connect 10 0 11 0;
#X connect 11 0 15 0;
#X connect 13 0 5 0;
#X connect 14 0 32 0;
#X connect 16 0 19 0;
#X connect 17 0 18 0;
#X connect 18 0 17 1;
#X connect 18 0 20 0;
#X connect 19 0 17 0;
#X connect 19 1 18 1;
#X connect 20 0 22 0;
#X connect 23 0 8 0;
#X connect 24 0 28 0;
#X connect 25 0 30 0;
#X connect 26 0 5 1;
#X connect 27 0 28 0;
#X connect 27 1 28 1;
#X connect 28 0 10 0;
#X connect 28 2 10 1;
#X connect 28 2 16 0;
#X connect 29 0 30 1;
#X connect 30 0 24 0;
#X connect 32 0 0 0;
#X connect 32 1 2 0;
#X restore 27 112 pd get_voice;
#X obj 27 83 t l l;
#N canvas 0 23 450 300 voice_minus_1 0;
#X obj 52 55 list split 1;
#X obj 52 81 - 1;
#X obj 52 106 list append;
#X obj 52 24 inlet;
#X obj 52 131 outlet;
#X connect 0 0 1 0;
#X connect 0 1 2 1;
#X connect 1 0 2 0;
#X connect 2 0 4 0;
#X connect 3 0 0 0;
#X restore 26 314 pd voice_minus_1;
#X floatatom 163 145 5 0 0 0 - - -, f 5;
#X text 161 126 num voices;
#X obj 27 168 list append;
#X obj 26 264 spigot 1;
#X obj 87 235 != 1;
#X obj 163 264 spigot 1;
#X obj 87 210 r voice_stealing;
#X obj 26 345 outlet;
#X obj 163 313 s \$0_num_voices;
#X connect 0 0 4 0;
#X connect 1 0 8 0;
#X connect 3 0 1 0;
#X connect 3 1 6 0;
#X connect 4 0 3 0;
#X connect 4 1 8 1;
#X connect 5 0 13 0;
#X connect 6 0 11 0;
#X connect 8 0 9 0;
#X connect 9 0 5 0;
#X connect 10 0 9 1;
#X connect 10 0 11 1;
#X connect 11 0 14 0;
#X connect 12 0 10 0;
#X restore 38 215 pd no_steal;
#N canvas 0 23 399 419 steal 0;
#X obj 27 21 inlet;
#X floatatom 27 142 5 0 0 0 - - -, f 5;
#X text 70 140 voice;
#N canvas 454 187 601 553 get_voice 0;
#X floatatom 236 131 5 0 0 0 - - -, f 5;
#X text 277 130 id;
#X floatatom 408 132 5 0 0 0 - - -, f 5;
#X text 449 131 length;
#X obj 271 211 + 1;
#X obj 236 211 f;
#X floatatom 236 287 5 0 0 0 - - -, f 5;
#X text 280 287 unique 'pitch';
#X floatatom 409 197 8 0 0 0 - - -, f 8;
#X text 477 195 dur (ms);
#X obj 236 388 stripnote;
#X floatatom 236 421 5 0 0 0 - - -, f 5;
#X text 280 419 voice;
#X obj 236 175 t b f;
#X obj 236 44 inlet;
#X obj 236 496 outlet;
#X obj 363 390 expr if($f1>0 \, 1 \, -1);
#X obj 363 445 f;
#X obj 394 444 + 1;
#X obj 363 417 t b f;
#X floatatom 394 472 5 0 0 0 - - -, f 5;
#X text 438 471 active voices;
#X obj 394 498 outlet;
#N canvas 0 23 260 316 samps_to_ms 0;
#X obj 39 26 inlet;
#X obj 106 94 samplerate~;
#X obj 106 67 r pd-dsp-started;
#X floatatom 106 121 7 0 0 0 - - -, f 7;
#X obj 32 179 /;
#X obj 102 144 / 1000;
#X obj 32 204 outlet;
#X connect 0 0 4 0;
#X connect 1 0 3 0;
#X connect 2 0 1 0;
#X connect 3 0 5 0;
#X connect 4 0 6 0;
#X connect 5 0 4 1;
#X restore 409 169 pd samps_to_ms;
#X msg 110 313 stop;
#X obj 110 227 r all_off;
#X obj 271 237 mod 128;
#X obj 236 315 makenote 64 1000;
#X obj 131 252 r fade_dur;
#X obj 110 287 del;
#X text 137 14 buf id \, length \, vel \, channels;
#X obj 236 80 unpack f f f f;
#X obj 236 343 poly 24 1;
#X connect 0 0 13 0;
#X connect 2 0 23 0;
#X connect 4 0 26 0;
#X connect 5 0 4 0;
#X connect 5 0 6 0;
#X connect 6 0 27 0;
#X connect 8 0 27 2;
#X connect 10 0 11 0;
#X connect 11 0 15 0;
#X connect 13 0 5 0;
#X connect 14 0 31 0;
#X connect 16 0 19 0;
#X connect 17 0 18 0;
#X connect 18 0 17 1;
#X connect 18 0 20 0;
#X connect 19 0 17 0;
#X connect 19 1 18 1;
#X connect 20 0 22 0;
#X connect 23 0 8 0;
#X connect 24 0 32 0;
#X connect 25 0 29 0;
#X connect 26 0 5 1;
#X connect 27 0 32 0;
#X connect 27 1 32 1;
#X connect 28 0 29 1;
#X connect 29 0 24 0;
#X connect 31 0 0 0;
#X connect 31 1 2 0;
#X connect 32 0 10 0;
#X connect 32 2 10 1;
#X connect 32 2 16 0;
#X restore 27 112 pd get_voice;
#X obj 27 83 t l l;
#N canvas 0 23 450 300 voice_minus_1 0;
#X obj 52 55 list split 1;
#X obj 52 81 - 1;
#X obj 52 106 list append;
#X obj 52 24 inlet;
#X obj 52 131 outlet;
#X connect 0 0 1 0;
#X connect 0 1 2 1;
#X connect 1 0 2 0;
#X connect 2 0 4 0;
#X connect 3 0 0 0;
#X restore 26 314 pd voice_minus_1;
#X floatatom 163 145 5 0 0 0 - - -, f 5;
#X text 161 126 num voices;
#X obj 27 168 list append;
#X obj 26 264 spigot 1;
#X obj 163 264 spigot 1;
#X obj 87 210 r voice_stealing;
#X obj 26 345 outlet;
#X obj 163 313 s \$0_num_voices;
#X connect 0 0 4 0;
#X connect 1 0 8 0;
#X connect 3 0 1 0;
#X connect 3 1 6 0;
#X connect 4 0 3 0;
#X connect 4 1 8 1;
#X connect 5 0 12 0;
#X connect 6 0 10 0;
#X connect 8 0 9 0;
#X connect 9 0 5 0;
#X connect 10 0 13 0;
#X connect 11 0 9 1;
#X connect 11 0 10 1;
#X restore 136 215 pd steal;
#X connect 0 0 5 0;
#X connect 2 0 6 0;
#X connect 2 0 4 0;
#X connect 3 0 4 1;
#X connect 4 0 7 0;
#X connect 5 0 11 0;
#X connect 5 0 12 0;
#X connect 6 0 8 0;
#X connect 7 0 8 0;
#X connect 8 0 5 1;
#X connect 11 0 1 0;
#X connect 12 0 1 0;
#X restore 318 207 pd voice_allocation;
#X obj 318 303 dac~ 1 2;
#X obj 48 392 clone buffers 88;
#X obj 44 226 bng 15 250 50 0 empty empty empty 17 7 0 10 -262144 -1
-1;
#X obj 318 237 clone oneshotsampler 24;
#X obj 48 417 declare -path samples -path lib;
#X obj 44 22 loadbang;
#N canvas 630 310 296 210 mtr 0;
#X obj 31 40 env~ 8820;
#X obj 77 84 - 88;
#X obj 31 62 moses 1;
#X msg 31 84 -100;
#X obj 31 18 inlet~;
#X obj 138 38 env~ 8820;
#X obj 184 82 - 88;
#X obj 138 60 moses 1;
#X msg 138 82 -100;
#X obj 138 16 inlet~;
#X obj 31 135 s mtr_l;
#X obj 138 135 s mtr_r;
#X connect 0 0 2 0;
#X connect 1 0 10 0;
#X connect 2 0 3 0;
#X connect 2 1 1 0;
#X connect 3 0 10 0;
#X connect 4 0 0 0;
#X connect 5 0 7 0;
#X connect 6 0 11 0;
#X connect 7 0 8 0;
#X connect 7 1 6 0;
#X connect 8 0 11 0;
#X connect 9 0 5 0;
#X restore 345 272 pd mtr;
#X text 62 80 reload everything;
#X obj 44 50 del 500;
#X obj 324 20 notein;
#N canvas 601 23 616 553 process_keymap 0;
#X obj 168 132 text size keymap;
#X floatatom 168 169 5 0 0 0 - - -, f 5;
#X text 211 167 num lines;
#X obj 168 25 inlet;
#X obj 168 86 t b b;
#X msg 320 106 \; clear_bufs bang;
#N canvas 0 23 450 300 prepend_id 0;
#X obj 100 34 inlet;
#X floatatom 100 100 5 0 0 0 - - -, f 5;
#X obj 100 125 text get keymap;
#X obj 100 71 t f f;
#X text 145 99 id;
#X obj 100 156 list prepend;
#X text 223 124 pitch \, file name;
#X text 209 158 id \, pitch \, file name;
#X obj 100 186 outlet;
#X connect 0 0 3 0;
#X connect 1 0 2 0;
#X connect 2 0 5 0;
#X connect 3 0 1 0;
#X connect 3 1 5 1;
#X connect 5 0 8 0;
#X restore 123 296 pd prepend_id;
#N canvas 257 117 655 594 load_and_append 0;
#X obj 60 16 inlet;
#X obj 150 273 soundfiler;
#X obj 150 93 unpack s f;
#X obj 150 245 list trim;
#X floatatom 129 369 8 0 0 0 - - -, f 8;
#X text 87 368 size;
#X msg 227 302 \$3;
#X floatatom 206 369 5 0 0 0 - - -, f 5;
#X text 250 368 num channels;
#X msg 150 64 \$3 \$1;
#X obj 188 128 makefilename buf%d_l;
#X obj 150 185 pack s s s;
#X obj 227 155 makefilename buf%d_r;
#X obj 150 220 list prepend read -maxsize 1e+09 -resize;
#X obj 129 404 moses 1;
#X obj 87 424 b;
#X msg 87 449 Error;
#X text 200 64 file name \, id;
#X obj 145 449 pack f f;
#X text 219 448 size \, num channels;
#X obj 60 479 list append;
#X obj 60 44 t l l;
#X text 172 491 id \, pitch \, file name \, size \, num channels;
#X obj 60 515 outlet;
#X obj 129 340 f;
#X obj 227 329 t b f;
#X connect 0 0 21 0;
#X connect 1 0 24 1;
#X connect 1 1 6 0;
#X connect 2 0 11 0;
#X connect 2 1 10 0;
#X connect 2 1 12 0;
#X connect 3 0 1 0;
#X connect 4 0 14 0;
#X connect 6 0 25 0;
#X connect 7 0 18 1;
#X connect 9 0 2 0;
#X connect 10 0 11 1;
#X connect 11 0 13 0;
#X connect 12 0 11 2;
#X connect 13 0 3 0;
#X connect 14 0 15 0;
#X connect 14 1 18 0;
#X connect 15 0 16 0;
#X connect 18 0 20 1;
#X connect 20 0 23 0;
#X connect 21 0 20 0;
#X connect 21 1 9 0;
#X connect 24 0 4 0;
#X connect 25 0 24 0;
#X connect 25 1 7 0;
#X restore 123 349 pd load_and_append;
#X text 126 323 <-- id \, pitch \, file name;
#X text 127 268 <-- pitch \, file name;
#X text 128 375 <-- id \, pitch \, file name \, size \, num channels
;
#N canvas 479 101 564 600 create_key_id_array 0;
#X obj 177 39 inlet;
#X obj 360 492 outlet;
#X obj 360 286 bng 15 250 50 0 empty empty empty 17 7 0 10 -262144
-1 -1;
#X text 378 282 done;
#X obj 214 144 array define keys 128;
#X obj 177 204 text size keymap;
#X obj 177 182 bng 15 250 50 0 empty empty empty 17 7 0 10 -262144
-1 -1;
#X floatatom 177 231 5 0 0 0 - - -, f 5;
#X obj 177 93 t b b;
#X msg 214 119 const -1;
#X obj 177 70 bng 15 250 50 0 empty empty empty 17 7 0 10 -262144 -1
-1;
#X obj 158 444 array set keys;
#X obj 211 356 text get keymap;
#X text 245 385 pitch;
#X obj 132 326 t b f f;
#X msg 212 383 \$2;
#X floatatom 158 417 5 0 0 0 - - -, f 5;
#X text 203 416 buf id;
#X obj 98 301 bng 15 250 50 0 empty empty empty 17 7 0 10 -262144 -1
-1;
#N canvas 423 23 275 335 inc 0;
#X obj 75 40 inlet;
#X obj 76 167 f;
#X obj 108 166 + 1;
#X msg 97 136 0;
#X obj 75 300 outlet;
#X obj 76 192 t f f;
#X obj 12 40 inlet;
#X obj 182 298 outlet;
#X text 129 136 reset;
#X obj 76 111 bng 15 250 50 0 empty empty empty 17 7 0 10 -262144 -1
-1;
#X text 92 109 inc;
#X obj 76 224 moses;
#X obj 75 70 t b b f;
#X obj 182 269 bng 15 250 50 0 empty empty empty 17 7 0 10 -262144
-1 -1;
#X text 198 267 done;
#X text 77 18 reset;
#X text 10 18 inc;
#X connect 0 0 12 0;
#X connect 1 0 5 0;
#X connect 2 0 1 1;
#X connect 3 0 1 1;
#X connect 5 0 11 0;
#X connect 5 1 2 0;
#X connect 6 0 9 0;
#X connect 9 0 1 0;
#X connect 11 0 4 0;
#X connect 11 1 13 0;
#X connect 12 0 9 0;
#X connect 12 1 3 0;
#X connect 12 2 11 1;
#X connect 13 0 7 0;
#X restore 132 266 pd inc;
#X connect 0 0 10 0;
#X connect 2 0 1 0;
#X connect 5 0 7 0;
#X connect 6 0 5 0;
#X connect 7 0 19 1;
#X connect 8 0 6 0;
#X connect 8 1 9 0;
#X connect 9 0 4 0;
#X connect 10 0 8 0;
#X connect 12 0 15 0;
#X connect 14 0 18 0;
#X connect 14 1 16 0;
#X connect 14 2 12 0;
#X connect 15 0 11 1;
#X connect 16 0 11 0;
#X connect 18 0 19 0;
#X connect 19 0 14 0;
#X connect 19 1 2 0;
#X restore 388 292 pd create_key_id_array;
#N canvas 446 308 442 228 update_keymap_line 0;
#X obj 29 27 inlet;
#X obj 29 163 outlet;
#X text 80 30 id \, pitch \, file name \, size \, num channels;
#X msg 94 98 \$1;
#X obj 55 131 text set keymap;
#X obj 29 64 t b l l;
#X connect 0 0 5 0;
#X connect 3 0 4 1;
#X connect 5 0 1 0;
#X connect 5 1 4 0;
#X connect 5 2 3 0;
#X restore 123 400 pd update_keymap_line;
#X obj 123 431 bng 15 250 50 0 empty empty empty 17 7 0 10 -262144
-1 -1;
#X text 140 429 finished processing keymap line;
#X obj 168 57 bng 15 250 50 0 empty empty empty 17 7 0 10 -262144 -1
-1;
#X obj 388 484 outlet;
#X text 389 510 done;
#X obj 66 361 bng 15 250 50 0 empty empty empty 17 7 0 10 -262144 -1
-1;
#X obj 168 238 bng 15 250 50 0 empty empty empty 17 7 0 10 -262144
-1 -1;
#X text 186 234 done;
#X obj 388 322 bng 15 250 50 0 empty empty empty 17 7 0 10 -262144
-1 -1;
#X text 406 318 done;
#N canvas 423 23 275 335 inc 0;
#X obj 75 40 inlet;
#X obj 76 167 f;
#X obj 108 166 + 1;
#X msg 97 136 0;
#X obj 75 300 outlet;
#X obj 76 192 t f f;
#X obj 12 40 inlet;
#X obj 182 298 outlet;
#X text 129 136 reset;
#X obj 76 111 bng 15 250 50 0 empty empty empty 17 7 0 10 -262144 -1
-1;
#X text 92 109 inc;
#X obj 76 224 moses;
#X obj 75 70 t b b f;
#X obj 182 269 bng 15 250 50 0 empty empty empty 17 7 0 10 -262144
-1 -1;
#X text 198 267 done;
#X text 77 18 reset;
#X text 10 18 inc;
#X connect 0 0 12 0;
#X connect 1 0 5 0;
#X connect 2 0 1 1;
#X connect 3 0 1 1;
#X connect 5 0 11 0;
#X connect 5 1 2 0;
#X connect 6 0 9 0;
#X connect 9 0 1 0;
#X connect 11 0 4 0;
#X connect 11 1 13 0;
#X connect 12 0 9 0;
#X connect 12 1 3 0;
#X connect 12 2 11 1;
#X connect 13 0 7 0;
#X restore 123 211 pd inc;
#X connect 0 0 1 0;
#X connect 1 0 23 1;
#X connect 3 0 15 0;
#X connect 4 0 0 0;
#X connect 4 1 5 0;
#X connect 6 0 7 0;
#X connect 7 0 12 0;
#X connect 11 0 21 0;
#X connect 12 0 13 0;
#X connect 13 0 18 0;
#X connect 15 0 4 0;
#X connect 18 0 23 0;
#X connect 19 0 11 0;
#X connect 21 0 16 0;
#X connect 23 0 6 0;
#X connect 23 1 19 0;
#X restore 44 155 pd process_keymap;
#X obj 324 98 s \$0_pitch_set;
#X obj 346 72 s \$0_velocity_set;
#X obj 369 47 s \$0_channel_set;
#N canvas 0 23 450 300 read_keymap 0;
#X obj 135 31 inlet;
#X obj 172 120 text define keymap;
#X msg 172 93 read -c keymap.txt \, bang;
#X obj 135 62 t b b;
#X obj 135 159 del 200;
#X obj 135 191 outlet;
#X connect 0 0 3 0;
#X connect 2 0 1 0;
#X connect 3 0 4 0;
#X connect 3 1 2 0;
#X connect 4 0 5 0;
#X restore 44 109 pd read_keymap;
#X obj 44 181 bng 15 250 50 0 empty empty empty 17 7 0 10 -262144 -1
-1;
#N canvas 0 23 450 300 read_settings 0;
#X obj 135 31 inlet;
#X obj 135 62 t b b;
#X obj 135 159 del 200;
#X obj 135 191 outlet;
#X obj 172 120 text define settings;
#X msg 172 93 read -c settings.txt \, bang;
#X connect 0 0 1 0;
#X connect 1 0 2 0;
#X connect 1 1 5 0;
#X connect 2 0 3 0;
#X connect 5 0 4 0;
#X restore 44 201 pd read_settings;
#N canvas 305 23 383 425 process_settings 0;
#X obj 106 15 inlet;
#X obj 106 70 text size settings;
#X obj 106 44 bng 15 250 50 0 empty empty empty 17 7 0 10 -262144 -1
-1;
#X floatatom 106 101 5 0 0 0 - - -, f 5;
#X obj 61 209 text get settings;
#X obj 98 335 send;
#X msg 98 269 \$2 \$1;
#X obj 98 301 unpack f s;
#X text 149 100 num lines;
#X obj 283 157 bng 15 250 50 0 empty empty empty 17 7 0 10 -262144
-1 -1;
#X text 301 153 done;
#N canvas 423 23 275 335 inc 0;
#X obj 75 40 inlet;
#X obj 76 167 f;
#X obj 108 166 + 1;
#X msg 97 136 0;
#X obj 75 300 outlet;
#X obj 76 192 t f f;
#X obj 12 40 inlet;
#X obj 182 298 outlet;
#X text 129 136 reset;
#X obj 76 111 bng 15 250 50 0 empty empty empty 17 7 0 10 -262144 -1
-1;
#X text 92 109 inc;
#X obj 76 224 moses;
#X obj 75 70 t b b f;
#X obj 182 269 bng 15 250 50 0 empty empty empty 17 7 0 10 -262144
-1 -1;
#X text 198 267 done;
#X text 77 18 reset;
#X text 10 18 inc;
#X connect 0 0 12 0;
#X connect 1 0 5 0;
#X connect 2 0 1 1;
#X connect 3 0 1 1;
#X connect 5 0 11 0;
#X connect 5 1 2 0;
#X connect 6 0 9 0;
#X connect 9 0 1 0;
#X connect 11 0 4 0;
#X connect 11 1 13 0;
#X connect 12 0 9 0;
#X connect 12 1 3 0;
#X connect 12 2 11 1;
#X connect 13 0 7 0;
#X restore 61 137 pd inc;
#X obj 61 240 t b l;
#X text 148 269 value \, setting;
#X obj 26 176 bng 15 250 50 0 empty empty empty 17 7 0 10 -262144 -1
-1;
#X obj 283 363 outlet;
#X connect 0 0 2 0;
#X connect 1 0 3 0;
#X connect 2 0 1 0;
#X connect 3 0 11 1;
#X connect 4 0 12 0;
#X connect 6 0 7 0;
#X connect 7 0 5 0;
#X connect 7 1 5 1;
#X connect 9 0 15 0;
#X connect 11 0 4 0;
#X connect 11 1 9 0;
#X connect 12 0 14 0;
#X connect 12 1 6 0;
#X connect 14 0 11 0;
#X restore 44 247 pd process_settings;
#X obj 44 273 bng 15 250 50 0 empty empty empty 17 7 0 10 -262144 -1
-1;
#X text 61 271 done;
#X msg 44 295 \; pd dsp 1 \; ready_tog_set 1;
#X msg 135 38 \; ready_tog_set 0;
#X obj 135 10 r \$0-reload;
#X connect 0 0 14 0;
#X connect 1 0 18 0;
#X connect 2 0 3 0;
#X connect 3 0 7 0;
#X connect 6 0 21 0;
#X connect 7 0 4 0;
#X connect 7 0 10 0;
#X connect 7 1 4 1;
#X connect 7 1 10 1;
#X connect 9 0 12 0;
#X connect 12 0 1 0;
#X connect 13 0 15 0;
#X connect 13 1 16 0;
#X connect 13 2 17 0;
#X connect 14 0 19 0;
#X connect 18 0 0 0;
#X connect 19 0 20 0;
#X connect 20 0 6 0;
#X connect 21 0 22 0;
#X connect 22 0 24 0;
#X connect 26 0 1 0;
#X connect 26 0 25 0;
#X restore 42 209 pd guts;
#X text 70 7 One-shot 0.1b;
#X obj 99 118 bng 15 250 50 0 \$0-reload \$0-reload-set empty 17 7
0 10 -262144 -1 -1;
#X text 116 116 Reload;
